# CNCF × Alibaba 云原生技术公开课

### 第一堂“云原生”课

* 云原生的定义

  云原生是一条最佳路径或者最佳实践。更详细的说，云原生为用户指定了一条低心智负担的、敏捷的、能够以可扩展、可复制的方式最大化地利用云的能力、发挥云的价值的最佳路径。

  因此，云原生其实是一套指导进行软件架构设计的思想。按照这样的思想而设计出来的软件：首先，天然就“生在云上，长在云上”；其次，能够最大化地发挥云的能力，使得我们开发的软件和“云”能够天然地集成在一起，发挥出“云”的最大价值。

  所以，云原生的最大价值和愿景，就是认为未来的软件，会从诞生起就生长在云上，并且遵循一种新的软件开发、发布和运维模式，从而使得软件能够最大化地发挥云的能力。

* 为什么容器技术具有革命性

  容器技术和集装箱技术的革命性非常类似，即：容器技术使得应用具有了一种“自包含”的定义方式。所以，这样的应用才能以敏捷的、以可扩展、可复制的方式发布在云上，发挥出云的能力。这也就是容器技术对云发挥出的革命性影响所在，所以说，容器技术正是云原生技术的核心底盘。

* 云原生的技术范畴

  * 云应用定义与开发流程

    这包括应用定义与镜像制作、配置 CI/CD、消息和 Streaming 以及数据库等。

  * 云应用的编排与管理流程

    包括了应用编排与调度、服务发现与治理、远程调用、API 网关以及 Service Mesh。

  * 监控与可观测性

    这部分所强调的是云上应用如何进行监控、日志收集、Tracing 以及在云上如何实现破坏性测试，也就是混沌工程的概念。

  * 云原生的底层技术

    比如容器运行时、云原生存储技术、云原生网络技术等。

  * 云原生工具集

    在前面的这些核心技术点之上，还有很多配套的生态或者周边的工具需要使用，比如流程自动化与配置管理、容器镜像仓库、云原生安全技术以及云端密码管理等。

  * Serverless

    Serverless 是一种 PaaS 的特殊形态，它定义了一种更为“极端抽象”的应用编写方式，包含了 FaaS 和 BaaS 这样的概念。而无论是 FaaS 还是 BaaS，其最为典型的特点就是按实际使用计费（Pay as you go），因此 Serverless 计费也是重要的知识和概念。

* 云原生思想的两个理论基础

  * 不可变基础设施

    这一点目前是通过容器镜像来实现的，其含义就是应用的基础设施应该是不可变的，是一个自包含、自描述可以完全在不同环境中迁移的东西。

  * 云应用编排理论

    当前的实现方式就是 Google 所提出来的“容器设计模式”。

* 基础设施向云演进的过程

  一旦应用部署完成之后，那么这套应用基础设施就不会再修改了。如果需要更新，那么需要更改公共镜像来构建新服务直接替换旧服务。而我们之所以能够实现直接替换，就是因为容器提供了自包含的环境（包含应用运行所需的所有依赖）。

* 基础设施向云演进的意义

  * 基础设施一致性和可靠性

    容器镜像、自包含、可漂移

  * 简单可预测的部署和运维

    自描述，自运维、流程自动化、容易水平扩展、可快速复制的管控系统与支撑组件

* 云原生关键技术点

  * 如何构建自包含、可定制的应用镜像
  * 能不能实现应用快速部署与隔离能力
  * 应用基础设施创建和销毁的自动化管理
  * 可复制的管控系统和支撑组件

* 总结

  “未来的软件一定是生长于云上的”这是云原生理念的最核心假设。而所谓“云原生”，实际上就是在定义一条能够让应用最大程度利用云的能力、发挥云的价值的最佳路径。在这条路径上，脱离了“应用”这个载体，“云原生”就无从谈起；容器技术，则是将这个理念落地、将软件交付的革命持续进行下去的重要手段之一。